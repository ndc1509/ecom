{% extends 'items/index.html' %}
{% block addLaptop %}
    <div class="item">
        {% if success == 1 %}
            <script>
                alert('Thêm thành công!')
            </script>
        {% endif %}
        <form action="{% url 'items:saveLaptop' %}" method="post" enctype="multipart/form-data"s>
            {% csrf_token %}
            <div class="title">
                <p>Thêm laptop</p>
            </div>
            <div class="item-book col-auto">
                <label for="name">Tên: </label>
                <input type="text" class="form-control" name="name" id="">
            </div>
            <div class="item-book col-auto">
                <label for="brand_id">Thương hiệu: </label>
                <select class="form-select" aria-label="Default select example" name="brand_id">
                    {% for b in Brands %}
                        <option value={{ b.id }}>{{ b.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <button class="btn btn-primary ms-2"><a href="{% url 'items:addBrand' %}" target="_blank">Thêm thương
                    hiệu</a></button>
            </div>
            <div class="item-book col-auto">
                <label for="category_id">Danh mục: </label>
                <select class="form-select" aria-label="Default select example" name="category_id">
                    {% for c in Categories %}
                        <option value={{ c.id }}>{{ c.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="item-book col-auto">
                <label for="price">Giá: </label>
                <input type="text" class="form-control" name="price" id="">
            </div>
            <div class="item-book col-auto">
                <label for="status">Trạng thái: </label>
                <select class="form-select" aria-label="Default select example" name="status">
                    <option value="C">Còn hàng</option>
                    <option value="H">Hết hàng</option>
                    <option value="CH">Chờ hàng</option>
                </select>
            </div>
            <div class="item-book col-auto ">
                <label for="slug">Slug: </label>
                <input type="text" class="form-control" name="slug">
            </div>
            <div class="item-book col-auto ">
                <label for="cpu">CPU: </label>
                <input type="text" class="form-control" name="cpu">
            </div>
            <div class="item-book col-auto">
                <label for="ram">RAM: </label>
                <input type="text" class="form-control" name="ram">
            </div>
            <div class="item-book col-auto">
                <label for="vga">VGA: </label>
                <input type="text" class="form-control" name="vga">
            </div>
            <div class="item-book col-auto">
                <label for="screen">Màn hình: </label>
                <input type="text" class="form-control" name="screen">
            </div>
            <div class="item-book col-auto">
                <label for="storage">Bộ nhớ lưu trữ: </label>
                <input type="text" class="form-control" name="storage">
            </div>
            <div class="item-book col-auto">
                <label for="battery">Pin: </label>
                <input type="text" class="form-control" name="battery">
            </div>
            <div class="item-book col-auto">
                <label for="os">Hệ điều hành: </label>
                <input type="text" class="form-control" name="os">
            </div>
            <div class="item-book col-auto ">
                <label for="description">Mô tả: </label>
                <textarea class="form-control" id="exampleFormControlTextarea1" name="description"></textarea>
            </div>

            <div>
                <label for="image">Ảnh</label>
                <input id="fileInp" type="file" name="image" accept="image/*" multiple/>
                <div id="frame">

                </div>
            </div>
            <div class=" button-div d-flex justify-content-around col-auto">
                <button class=" button btn btn-primary" type="submit">Submit</button>
            </div>
        </form>
    </div>
    <script>
        $(document).ready(function () {
            $('#fileInp').change(function () {
                $('#frame').html('');
                for (let i = 0; i < $(this)[0].files.length; i++) {
                    if (this.files[i]) {
                        $('#frame').append(
                            '<img src="' + URL.createObjectURL(this.files[i]) + '" height="200px" width="200px" />'
                        )
                    }
                }
            })
        })
    </script>
{% endblock %}